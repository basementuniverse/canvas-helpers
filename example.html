<style>

canvas {
  width: 1200px;
  height: 800px;
  border: 1px solid black;
  margin: 20px;
}

</style>
<canvas></canvas>
<script src="build/index.js"></script>
<script>

const canvas = document.querySelector('canvas');
const context = canvas.getContext('2d');

canvas.width = 1200;
canvas.height = 800;

// withContext variants...
const [
  line2,
  cross2,
  arrow2,
  circle2,
  rectangle2,
  polygon2,
  path2,
  image2,
] = withContext(context, line, cross, arrow, circle, rectangle, polygon, path, image);

// Basic line examples
line(context, { x: 100, y: 50 }, { x: 200, y: 50 }, {
  strokeColor: { r: 255, g: 0, b: 0 },
  lineWidth: 2,
});

line2({ x: 100, y: 80 }, { x: 200, y: 80 }, {
  strokeColor: { r: 0, g: 0, b: 255 },
  lineStyle: 'dashed',
});

// Cross examples
cross(context, { x: 300, y: 50 }, 20, {
  strokeColor: { r: 0, g: 150, b: 0 },
  lineWidth: 2,
});

cross2({ x: 350, y: 50 }, 30, {
  strokeColor: 'purple',
  lineStyle: 'dotted',
  crossStyle: '+',
});

// Arrow examples
arrow(context, { x: 100, y: 150 }, { x: 200, y: 150 }, {
  strokeColor: { r: 200, g: 100, b: 0 },
  lineWidth: 2,
  arrow: { type: 'caret', size: 10 },
});

arrow2({ x: 100, y: 200 }, { x: 200, y: 180 }, {
  strokeColor: 'green',
  arrow: { type: 'chevron', size: 15 },
});

// Circle examples
circle(context, { x: 300, y: 150 }, 30, {
  fillColor: { r: 255, g: 200, b: 200 },
  strokeColor: { r: 255, g: 0, b: 0 },
  fill: true,
  lineWidth: 2,
});

circle2({ x: 400, y: 150 }, 40, {
  gradient: {
    type: 'radial',
    start: { x: 400, y: 150 },
    end: { x: 550, y: 150 },
    colorStops: [
      { color: { r: 255, g: 255, b: 0, a: 1 }, position: 0 },
      { color: { r: 255, g: 0, b: 0, a: 1 }, position: 1 }
    ]
  },
  fill: true,
  stroke: true,
  strokeColor: 'black',
});

// Rectangle examples
rectangle(context, { x: 100, y: 250 }, { x: 100, y: 80 }, {
  fillColor: { r: 200, g: 200, b: 255 },
  strokeColor: { r: 0, g: 0, b: 255 },
  fill: true,
  lineWidth: 2,
});

rectangle2({ x: 250, y: 250 }, { x: 120, y: 80 }, {
  fillColor: 'lightgreen',
  strokeColor: 'darkgreen',
  fill: true,
  rounded: true,
  borderRadius: 10,
});

// Polygon examples
polygon(context, [
  { x: 100, y: 400 },
  { x: 140, y: 380 },
  { x: 160, y: 420 },
  { x: 120, y: 460 },
  { x: 80, y: 420 }
], {
  fillColor: { r: 255, g: 200, b: 200 },
  strokeColor: 'red',
  fill: true,
  lineWidth: 2,
});

polygon2([
  { x: 100, y: 500 },
  { x: 120, y: 500 },
  { x: 120, y: 540 },
  { x: 160, y: 540 },
  { x: 160, y: 560 },
  { x: 100, y: 560 }
], {
  fillColor: { r: 200, g: 200, b: 255 },
  strokeColor: 'blue',
  fill: true,
  lineWidth: 4,
  lineStyle: 'dotted',
});

// Path examples
path(context, [
  { x: 200, y: 400 },
  { x: 250, y: 380 },
  { x: 300, y: 420 },
  { x: 350, y: 380 },
  { x: 400, y: 400 }
], {
  strokeColor: 'blue',
  lineWidth: 2,
  pathType: 'linear',
});

path(context, [
  { x: 200, y: 450 },
  { x: 250, y: 430 },
  { x: 300, y: 470 },
  { x: 350, y: 430 },
  { x: 400, y: 450 },
], {
  strokeColor: 'purple',
  lineWidth: 2,
  pathType: 'bezier',
  bezierOrder: 4,
});

path2([
  { x: 200, y: 500 },
  { x: 250, y: 480 },
  { x: 300, y: 520 },
  { x: 350, y: 480 },
  { x: 400, y: 500 },
], {
  strokeColor: 'green',
  lineWidth: 2,
  pathType: 'catmull-rom',
  catmullRomTension: 0.5,
});

const exampleImage = new Image();
exampleImage.src = 'example.png';
exampleImage.onload = () => {
  image(
    context,
    exampleImage,
    { x: 500, y: 50 }
  );

  image2(
    exampleImage,
    { x: 650, y: 50 },
    undefined,
    {
      image: {
        scale: 0.5,
      },
    }
  );

  rectangle2(
    { x: 500, y: 200 },
    { x: 200, y: 150 },
    {
      stroke: true,
      strokeColor: 'blue',
    }
  );

  image2(
    exampleImage,
    { x: 500, y: 200 },
    { x: 200, y: 150 },
    {
      image: {
        fillMode: 'contain',
      },
    }
  );

  rectangle2(
    { x: 500, y: 400 },
    { x: 200, y: 150 },
    {
      stroke: true,
      strokeColor: 'blue',
    }
  );

  image2(
    exampleImage,
    { x: 500, y: 400 },
    { x: 200, y: 150 },
    {
      image: {
        fillMode: 'fit-x',
        scale: 0.9,
      },
    }
  );

  cross2(
    { x: 600, y: 700 },
    50,
    {
      strokeColor: 'red',
      lineWidth: 3,
    }
  );

  image2(
    exampleImage,
    { x: 600, y: 700 },
    undefined,
    {
      image: {
        offset: { x: -0.5, y: -0.5 },
        offsetRelative: true,
        opacity: 0.5,
      },
    }
  );

  rectangle2(
    { x: 800, y: 50 },
    { x: 200, y: 150 },
    {
      stroke: true,
      strokeColor: 'blue',
    }
  );

  image2(
    exampleImage,
    { x: 800, y: 50 },
    { x: 200, y: 150 },
    {
      rounded: true,
      borderRadius: 20,
      image: {
        fillMode: 'fill',
        clip: true,
      },
    }
  );

  image2(
    exampleImage,
    { x: 800, y: 250 },
    { x: 200, y: 150 },
    {
      stroke: true,
      strokeColor: 'red',
      lineWidth: 3,
      image: {
        fillMode: 'fill',
      },
    }
  );
};

</script>
